<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EUR-Lex Research Database</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }
        .header {
            text-align: center;
            border-bottom: 2px solid #003d82;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .dataset-stats {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .download-section {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .download-link {
            display: inline-block;
            background: #003d82;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            margin: 5px 10px 5px 0;
            font-weight: 500;
        }
        .download-link:hover {
            background: #0056b3;
        }
        .file-info {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }
        .usage-section {
            background: #e8f4f8;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        code {
            background: #f1f1f1;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .code-block {
            background: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            overflow-x: auto;
        }
        .api-section {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>EUR-Lex Research Database</h1>
        <p>Comprehensive collection of European Union legal documents</p>
    </div>

    <div class="dataset-stats">
        <h2>üìä Dataset Overview</h2>
        <ul>
            <li><strong>Total Documents:</strong> ~22,000 EU legal texts</li>
            <li><strong>Content:</strong> Full document text with metadata</li>
            <li><strong>Time Period:</strong> Various years of EU legislation</li>
            <li><strong>Document Types:</strong> Regulations, Directives, Decisions, Communications, etc.</li>
            <li><strong>Language:</strong> English</li>
            <li><strong>Total Words:</strong> ~3.9+ million words</li>
        </ul>
    </div>

    <div class="api-section">
        <h2>üîå Live API Access</h2>
        <p>Access the data programmatically via our REST API:</p>
        <a href="https://eurlex-prelim-database-production.up.railway.app/api/data" class="download-link">View Sample Data (JSON)</a>
        <div class="file-info">Returns first 10 documents in JSON format</div>
        
        <div class="code-block">
<pre>
API Endpoint:
GET https://eurlex-prelim-database-production.up.railway.app/api/data

Example Usage:
curl https://eurlex-prelim-database-production.up.railway.app/api/data

Response Format:
JSON array of document objects with celex_id, title, full_text, etc.
</pre>
        </div>
    </div>

    <div class="download-section">
        <h2>üì• Download Dataset</h2>
        
        <h3>Complete Database</h3>
        <a href="https://eurlex-prelim-database-production.up.railway.app/database.db" class="download-link">Download SQLite Database</a>
        <div class="file-info">Complete database with full text and metadata (~40MB)</div>
    </div>

    <div class="usage-section">
        <h2>üíª How to Use</h2>
        
        <h3>With R (SQLite)</h3>
        <div class="code-block">
<pre>
# Download the database from Railway
download.file("https://eurlex-prelim-database-production.up.railway.app/database.db", 
              "database_from_railway.db")

# Connect to the downloaded file
con <- dbConnect(RSQLite::SQLite(), "database_from_railway.db")

# View available tables
dbListTables(con)

# Query documents
documents <- dbGetQuery(con, "SELECT * FROM documents LIMIT 10")

# Search for specific terms
climate_docs <- dbGetQuery(con,
                           "SELECT celex_id, title, word_count, full_text FROM documents 
   WHERE full_text LIKE '%climate%' AND scrape_status = 'success'")
</pre>
        </div>

        <h3>With Python (API)</h3>
        <div class="code-block">
<pre>
import sqlite3
import pandas as pd

# Connect to database
con = sqlite3.connect('database.db')

# View available tables
cursor = con.cursor()
cursor.execute("SELECT name FROM sqlite_master WHERE type='table';")
tables = cursor.fetchall()
print("Available tables:", [table[0] for table in tables])

# Query documents
documents = pd.read_sql_query("SELECT * FROM documents LIMIT 10", con)
print(documents)

# Search for specific terms
climate_docs = pd.read_sql_query("""
    SELECT celex_id, title, word_count FROM documents 
    WHERE full_text LIKE '%climate%' AND scrape_status = 'success'
""", con)
print(climate_docs)

# Close connection
con.close()
</pre>
        </div>

        <h3>With Python (SQLite)</h3>
        <div class="code-block">
<pre>
import sqlite3

# Connect to database
con = sqlite3.connect('database.db')
cursor = con.cursor()

# View available tables
cursor.execute("SELECT name FROM sqlite_master WHERE type='table';")
tables = cursor.fetchall()
print("Available tables:", [table[0] for table in tables])

# Query documents
cursor.execute("SELECT * FROM documents LIMIT 10")
documents = cursor.fetchall()
print("Documents:", documents)

# Search for specific terms
cursor.execute("""
    SELECT celex_id, title, word_count FROM documents 
    WHERE full_text LIKE ? AND scrape_status = ?
""", ('%climate%', 'success'))
climate_docs = cursor.fetchall()
print("Climate documents:", climate_docs)

# Close connection
con.close()
</pre>
        </div>
    </div>

    <div class="dataset-stats">
        <h2>üìã Dataset Schema</h2>
        <h3>Documents Table</h3>
        <ul>
            <li><code>celex_id</code> - Unique EU document identifier</li>
            <li><code>title</code> - Document title</li>
            <li><code>document_type</code> - Type (Regulation, Directive, etc.)</li>
            <li><code>date_published</code> - Publication date</li>
            <li><code>author</code> - Authoring institution</li>
            <li><code>full_text</code> - Complete document content</li>
            <li><code>word_count</code> - Number of words in document</li>
            <li><code>url</code> - Original EUR-Lex URL</li>
            <li><code>scrape_status</code> - Data collection status</li>
        </ul>
    </div>

    <div class="dataset-stats">
        <h2>‚ÑπÔ∏è About</h2>
        <p>This dataset was created for the <strong>AdJUST Project</strong> research by Katelyn Nutley. 
        The data was collected from the official EUR-Lex website in August 2025.</p>
        
        <p><strong>Citation:</strong> Please cite this dataset appropriately in your research and acknowledge 
        the EUR-Lex database as the original source of the legal documents.</p>
        
        <p><strong>License:</strong> Academic and research use. Please respect EUR-Lex terms of service.</p>
        
        <p><strong>Technical Details:</strong> Database hosted on Railway, accessible via REST API and direct download.</p>
    </div>
</body>
</html>
